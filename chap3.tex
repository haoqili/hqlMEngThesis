%% This is an example first chapter.  You should put chapter/appendix that you
%% write into a separate file, and add a line \include{yourfilename} to
%% main.tex, where `yourfilename.tex' is the name of the chapter/appendix file.
%% You can process specific files by typing their names in at the 
%% \files=
%% prompt when you run the file main.tex through LaTeX.
\chapter{Background on DIPLOMA}

* DIPLOMA hop cutting (all regions in a chain have to be populated
* LEADER/JOIN/NONLEADER

* width thing

-------
Leader transitions
* leader go out of region TODO: add handing-off state?
* leader is dead (cloud wait 100 secs to allow new leader)
* leader heartbeat to the cloud and to non-leaders

---
* server region leader timeout for new leader

* region width stuff
At this time, we failed to realize the region size should be small enough so that 2 phones anywhere inside 2 adjacent regions could hear each other, not 1 region. Since the leaders must be able to talk to adjancent leaders. If the region widths are set as the limiting range of the phones (20 meters in our case), the only way a DIPLOMA multi-hop would work is if the leaders are exactly 20 meters from each other. If one leaders just moves a little bit, it will fall out of range of the farther neighboring leader and thus breaking DIPLOMA multi-hops.
    Even though technically the region width should be half of the phone range, with the GPS inaccuracy of the phones, setting the region width to 10 meters is not ideal. If the regions are too small, and the phone's inate GPS inaccuracies varies a lot, we could end up with insensible region allocations. In the worst case, region monotonicity may be broken, e.g. a phone could be erroneously assigned to region 2, between a region 3 and region 4 phone. Without region monotonicity, DIPLOMA multi-hop would not be concrete.
    When we realized this, we made it possible to *change the region's width* from the UI. The default is still 20 meters.

--> hysteresis (only in Experiments 1 and 2)
Get rid of hysteresis. With hysteresis, there were a few meters around the boundaries of the regions that did not allow the phones to change into a new region. The reason for this was because we were worried that the GPS would be very imprecise and cause phone standing near region boundaries to flicker between 2 regions.  
    However, the downside of hysterisis, compounded with the fact that phones have internal offsets, made everything confusing when the region sizes are now only 20 meters in length. So for a large percentage of a region area, phones next to each other had different regions.
    This caused me to add a hysetrisis selector that defaults to 0, i.e. no hysterisis.
        {\url{https://github.com/haoqili/Android_DIPLOMA_CAMERA/commit/ae6b6d04f2dde49e2455dfeb72de1037190d9059#L7R614}}
        {\url{https://github.com/haoqili/Android_DIPLOMA_CAMERA/commit/89219a4ad3e65f52fd500e6b89b3578cb9831ca7}}


